<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Boardgame Landing Page (Demo)</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="topbar">
    <div class="wrap">
      <div class="row">
        <div class="brand">
          <span class="brand-badge"></span>
          <span id="brandName">Boardgame</span>
        </div>
        <div class="nav">
          <a href="#intro">Gi·ªõi thi·ªáu</a>
          <a href="#rules">Lu·∫≠t ch∆°i</a>
          <a href="#cards">N·ªôi dung l√° b√†i</a>
        </div>
      </div>
    </div>
  </div>

  <!-- SECTION 1 -->
  <section class="section" id="intro">
    <div class="wrap">
      <div class="grid-2">
        <div>
          <span class="pill"><span class="dot"></span><span>Landing page demo (IMG/PDF ready)</span></span>
          <h1 class="title" id="gameTitle">T√äN TR√í CH∆†I</h1>
          <p class="subtitle" id="gameGoal">M·ª•c ƒë√≠ch boardgame‚Ä¶</p>

          <div class="spacer"></div>
          <div class="row">
            <button class="btn primary" id="scrollToRulesBtn">Xem lu·∫≠t ch∆°i</button>
            <button class="btn" id="scrollToCardsBtn">Xem c√°c l√° b√†i</button>
          </div>

          <div class="divider"></div>

          <div class="card pad">
            <h3>Ch√®n ·∫£nh th·∫ª b√†i (1)</h3>
            <p class="muted" style="margin:0; line-height:1.65;">
              B·∫°n ch·ªâ c·∫ßn s·ª≠a <b>src</b> c·ªßa 2 th·∫ª <code>&lt;img&gt;</code> b√™n ph·∫£i (l√° m·∫´u).
              SVG d√πng ƒë∆∞·ª£c v√† s·∫Øc n√©t; PNG/JPG c≈©ng ·ªïn. N·∫øu SVG n·∫∑ng, n√™n d√πng PNG.
            </p>
          </div>
        </div>

        <!-- Right: 2 sample cards as IMG -->
        <div class="hero-right">
          <div class="card-frame">
            <!-- (1) Put your image here -->
            <img
              class="card-img"
              id="sampleImg1"
              src="assets/sample-card-1.png"
              alt="L√° t√°c ƒë·ªông m·∫´u 1"
            />
          </div>

          <div class="card-frame">
            <!-- (1) Put your image here -->
            <img
              class="card-img"
              id="sampleImg2"
              src="assets/sample-card-2.png"
              alt="L√° t√°c ƒë·ªông m·∫´u 2"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 2 -->
  <section class="section" id="rules">
    <div class="wrap">
      <div class="rules-grid">
        <!-- Left: A4 preview as IMG -->
        <div>
          <div class="a4-preview" id="a4Preview" role="button" aria-label="M·ªü lu·∫≠t ch∆°i">
            <!-- (3) Put your A4 image here (PNG/JPG) -->
            <img
              class="rules-thumb"
              id="rulesThumb"
              src="assets/rules-a4.png"
              alt="Lu·∫≠t ch∆°i A4 (thumbnail)"
            />
            <div class="zoom-hint">Click ƒë·ªÉ ph√≥ng to &amp; k√©o ƒë·ªçc</div>
          </div>

          <div class="spacer"></div>
          <div class="row">
            <span class="kbd">Esc ƒë·ªÉ ƒë√≥ng</span>
            <span class="kbd">Cu·ªôn trong c·ª≠a s·ªï ƒë·ªçc</span>
          </div>
        </div>

        <!-- Right -->
        <div class="card pad">
          <h2 style="margin:0 0 8px; font-size:32px; letter-spacing:-.02em; color:var(--navy);">Lu·∫≠t ch∆°i</h2>
          <p class="muted" style="margin:0; line-height:1.7;" id="rulesIntro">
            Lu·∫≠t ch∆°i d√πng ·∫£nh PNG ho·∫∑c PDF A4. Thumbnail nh·ªè theo chi·ªÅu cao div; click ƒë·ªÉ m·ªü modal v√† k√©o l√™n xu·ªëng.
          </p>

          <div class="divider"></div>
          <h3>G·ª£i √Ω file (3)</h3>
          <ul class="muted" style="margin:0; line-height:1.7;">
            <li>N·∫øu l√† <b>PNG</b>: thay <code>assets/rules-a4.png</code> v√† <code>assets/rules-a4-full.png</code>.</li>
            <li>N·∫øu l√† <b>PDF</b>: thay <code>assets/rules.pdf</code> v√† ƒë·∫∑t <code>DATA.rules.type = "pdf"</code>.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 3 -->
  <section class="section" id="cards">
    <div class="wrap">
      <div class="row" style="justify-content:space-between; align-items:flex-end;">
        <div>
          <span class="pill"><span class="dot" style="background:var(--gold)"></span><span>Slide ƒë·ªãa danh + l√° t√°c ƒë·ªông</span></span>
          <h2 style="margin:14px 0 8px; font-size:34px; letter-spacing:-.02em; color:var(--navy);">N·ªôi dung c√°c l√° b√†i</h2>
          <p class="muted" style="margin:0; line-height:1.65;">
            M·ªói slide: t√™n ƒë·ªãa danh (tr√°i), ·∫£nh (d∆∞·ªõi), danh s√°ch l√° t√°c ƒë·ªông (ph·∫£i).
          </p>
        </div>

        <div class="row">
          <button class="btn" id="prevBtn" aria-label="Slide tr∆∞·ªõc">‚Üê Tr∆∞·ªõc</button>
          <button class="btn" id="nextBtn" aria-label="Slide sau">Sau ‚Üí</button>
        </div>
      </div>

      <div class="spacer"></div>

      <div class="slider-controls">
        <div class="dots" id="dots"></div>
        <div class="kbd">Ph√≠m: ‚Üê / ‚Üí</div>
      </div>

      <div class="spacer"></div>

      <div class="slider" id="slider">
        <div class="slides" id="slides"></div>
      </div>
    </div>
  </section>

  <!-- Modal: Rules Zoom -->
  <div class="modal" id="rulesModal" aria-hidden="true">
    <div class="panel" role="dialog" aria-modal="true" aria-label="Lu·∫≠t ch∆°i ph√≥ng to">
      <div class="panel-head">
        <div class="left">
          <span class="icon">üìÑ</span>
          <span id="modalTitle">Lu·∫≠t ch∆°i</span>
        </div>
        <button class="btn" id="closeModalBtn" aria-label="ƒê√≥ng">ƒê√≥ng</button>
      </div>

      <div class="panel-body">
        <!-- (3) IMAGE MODE -->
        <img
          id="rulesFullImg"
          class="rules-full-img"
          src="assets/rules-a4-full.png"
          alt="Lu·∫≠t ch∆°i A4 (ph√≥ng to)"
          style="display:none;"
        />

        <!-- (3) PDF MODE -->
        <iframe
          id="rulesPdf"
          class="rules-pdf"
          src="assets/rules.pdf"
          title="Lu·∫≠t ch∆°i PDF"
          style="display:none;"
        ></iframe>
      </div>
    </div>
  </div>

  <script>
    /**
     * DATA: b·∫°n ch·ªânh ·ªü ƒë√¢y
     */
    const DATA = {
      game: {
        title: "URBAN IMPACTS",
        goal: "M·ª•c ƒë√≠ch: x√¢y d·ª±ng chi·∫øn l∆∞·ª£c ph√°t tri·ªÉn b·ªÅn v·ªØng cho c√°c ƒë·ªãa danh; c√¢n b·∫±ng kinh t·∫ø ‚Äì x√£ h·ªôi ‚Äì m√¥i tr∆∞·ªùng th√¥ng qua c√°c l√° t√°c ƒë·ªông."
      },

      // (1) Sample cards: d√πng ·∫£nh (PNG/JPG/SVG). Ch·ªâ c·∫ßn thay src trong HTML ho·∫∑c thay ·ªü ƒë√¢y r·ªìi JS g√°n.
      samples: {
        img1: "assets/sample-card-1.png",
        img2: "assets/sample-card-2.png"
      },

      // (3) Rules: ch·ªçn "image" ho·∫∑c "pdf"
      rules: {
        type: "image", // "image" | "pdf"
        intro: "Lu·∫≠t ch∆°i d√πng ·∫£nh PNG ho·∫∑c PDF A4. Thumbnail nh·ªè theo chi·ªÅu cao div; click ƒë·ªÉ m·ªü modal v√† k√©o ƒë·ªçc.",
        thumbSrc: "assets/rules-a4.png",        // thumbnail
        fullImgSrc: "assets/rules-a4-full.png", // full image
        pdfSrc: "assets/rules.pdf",             // pdf
        modalTitle: "Lu·∫≠t ch∆°i (A4)"
      },

      places: [
        {
          name: "TP. H·ªì Ch√≠ Minh",
          imageText: "·∫¢nh/thumbnail TP.HCM",
          tags: ["ƒê√¥ th·ªã", "D·ªãch v·ª•", "C·∫£ng"],
          impacts: [
            { code: "T01", title: "M·ªü r·ªông metro", desc: "Gi·∫£m √πn t·∫Øc, +2 x√£ h·ªôi; n·∫øu c√≥ ng√¢n s√°ch: +1 kinh t·∫ø." },
            { code: "T02", title: "Logistics c·∫£ng bi·ªÉn", desc: "+3 kinh t·∫ø; n·∫øu √¥ nhi·ªÖm cao: -1 m√¥i tr∆∞·ªùng." },
            { code: "T03", title: "Ch·ªëng ng·∫≠p ƒë√¥ th·ªã", desc: "+2 m√¥i tr∆∞·ªùng; n·∫øu m∆∞a l·ªõn: +1 th√™m." }
          ]
        },
        {
          name: "H√† N·ªôi",
          imageText: "·∫¢nh/thumbnail H√† N·ªôi",
          tags: ["Th·ªß ƒë√¥", "D·ªãch v·ª•", "Di s·∫£n"],
          impacts: [
            { code: "T04", title: "B·∫£o t·ªìn ph·ªë c·ªï", desc: "+2 vƒÉn ho√°; n·∫øu du l·ªãch cao: +1 kinh t·∫ø." },
            { code: "T05", title: "V√†nh ƒëai giao th√¥ng", desc: "+2 kinh t·∫ø; n·∫øu gi·∫£i ph√≥ng m·∫∑t b·∫±ng: -1 x√£ h·ªôi." }
          ]
        }
        // ... th√™m 8 ƒë·ªãa danh c√≤n l·∫°i
      ]
    };

    const $ = (q) => document.querySelector(q);

    function escapeHtml(str){
      return String(str)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    /**
     * Bind top/intro + images
     */
    function bindHero(){
      $("#brandName").textContent = DATA.game.title;
      $("#gameTitle").textContent = DATA.game.title;
      $("#gameGoal").textContent = DATA.game.goal;

      // (1) g√°n src ·∫£nh l√° m·∫´u
      $("#sampleImg1").src = DATA.samples.img1;
      $("#sampleImg2").src = DATA.samples.img2;
    }

    /**
     * Bind rules (thumb + modal content)
     */
    function bindRules(){
      $("#rulesIntro").textContent = DATA.rules.intro;
      $("#modalTitle").textContent = DATA.rules.modalTitle;

      $("#rulesThumb").src = DATA.rules.thumbSrc;

      const imgEl = $("#rulesFullImg");
      const pdfEl = $("#rulesPdf");

      if (DATA.rules.type === "pdf") {
        pdfEl.src = DATA.rules.pdfSrc;
        pdfEl.style.display = "block";
        imgEl.style.display = "none";
      } else {
        imgEl.src = DATA.rules.fullImgSrc;
        imgEl.style.display = "block";
        pdfEl.style.display = "none";
      }
    }

    /**
     * Modal open/close
     */
    const modal = $("#rulesModal");
    const openModal = () => {
      modal.classList.add("show");
      modal.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    };
    const closeModal = () => {
      modal.classList.remove("show");
      modal.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
    };

    $("#a4Preview").addEventListener("click", openModal);
    $("#closeModalBtn").addEventListener("click", closeModal);
    modal.addEventListener("click", (e) => { if (e.target === modal) closeModal(); });
    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal.classList.contains("show")) closeModal();
    });

    /**
     * Slider
     */
    const slidesEl = $("#slides");
    const dotsEl = $("#dots");
    let current = 0;

    function slideTemplate(place){
      const tags = (place.tags || []).map(t => `<span class="chip">${escapeHtml(t)}</span>`).join("");
      const impacts = (place.impacts || []).map(it => `
        <div class="impact-item">
          <div class="impact-tag">${escapeHtml(it.code || "T")}</div>
          <div class="impact-text">
            <p class="impact-title">${escapeHtml(it.title || "")}</p>
            <p class="impact-desc">${escapeHtml(it.desc || "")}</p>
          </div>
        </div>
      `).join("");

      return `
        <div class="slide">
          <div class="slide-grid">
            <div class="place-card">
              <div class="place-name">${escapeHtml(place.name)}</div>
              <div class="place-img">${escapeHtml(place.imageText || "·∫¢nh ƒë·ªãa danh")}</div>
              <div class="spacer"></div>
              <div class="chips">${tags}</div>
            </div>

            <div class="impact-list">
              <div class="impact-head">
                <h4>Danh s√°ch l√° t√°c ƒë·ªông</h4>
                <span class="pill" style="padding:6px 10px;">
                  <span class="dot" style="width:7px;height:7px;background:var(--red)"></span>
                  <span>${(place.impacts || []).length} l√°</span>
                </span>
              </div>
              <div class="impact-items">
                ${impacts || `<div class="muted">Ch∆∞a c√≥ l√° t√°c ƒë·ªông.</div>`}
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function buildSlider(){
      slidesEl.innerHTML = DATA.places.map(slideTemplate).join("");

      dotsEl.innerHTML = DATA.places.map((_, i) => `
        <button class="dotbtn ${i===0 ? "active":""}" aria-label="T·ªõi slide ${i+1}" data-i="${i}"></button>
      `).join("");

      dotsEl.querySelectorAll(".dotbtn").forEach(btn => {
        btn.addEventListener("click", () => goTo(parseInt(btn.dataset.i, 10)));
      });

      updateSlider();
    }

    function updateSlider(){
      slidesEl.style.transform = `translateX(${-current * 100}%)`;
      dotsEl.querySelectorAll(".dotbtn").forEach((b, i) => b.classList.toggle("active", i === current));
    }

    function goTo(index){
      const n = Math.max(DATA.places.length, 1);
      current = ((index % n) + n) % n;
      updateSlider();
    }
    function next(){ goTo(current + 1); }
    function prev(){ goTo(current - 1); }

    $("#nextBtn").addEventListener("click", next);
    $("#prevBtn").addEventListener("click", prev);

    window.addEventListener("keydown", (e) => {
      if (modal.classList.contains("show")) return;
      if (e.key === "ArrowRight") next();
      if (e.key === "ArrowLeft") prev();
    });

    // Swipe
    (function enableSwipe(){
      const slider = $("#slider");
      let startX = 0, dragging = false;

      slider.addEventListener("touchstart", (e) => { dragging = true; startX = e.touches[0].clientX; }, {passive:true});
      slider.addEventListener("touchend", (e) => {
        if (!dragging) return;
        dragging = false;
        const endX = (e.changedTouches && e.changedTouches[0]) ? e.changedTouches[0].clientX : startX;
        const dx = endX - startX;
        if (Math.abs(dx) > 40) (dx < 0) ? next() : prev();
      });
    })();

    // Scroll buttons
    $("#scrollToRulesBtn").addEventListener("click", () => $("#rules").scrollIntoView({behavior:"smooth", block:"start"}));
    $("#scrollToCardsBtn").addEventListener("click", () => $("#cards").scrollIntoView({behavior:"smooth", block:"start"}));

    // INIT
    bindHero();
    bindRules();
    buildSlider();
  </script>
</body>
</html>
