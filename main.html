<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Boardgame Landing Page (Demo)</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- Sticky topbar -->
  <div class="topbar">
    <div class="wrap">
      <div class="row">
        <div class="brand">
          <span class="brand-badge"></span>
          <span id="brandName">Boardgame</span>
        </div>
        <div class="nav">
          <a href="#intro">Gi·ªõi thi·ªáu</a>
          <a href="#rules">Lu·∫≠t ch∆°i</a>
          <a href="#cards">N·ªôi dung l√° b√†i</a>
        </div>
      </div>
    </div>
  </div>

  <!-- SECTION 1 -->
  <section class="section" id="intro">
    <div class="wrap">
      <div class="grid-2">
        <div>
          <span class="pill"><span class="dot"></span><span>Landing page demo (HTML/CSS/JS)</span></span>
          <h1 class="title" id="gameTitle">T√äN TR√í CH∆†I</h1>
          <p class="subtitle" id="gameGoal">
            M·ª•c ƒë√≠ch boardgame: (demo) x√¢y d·ª±ng chi·∫øn l∆∞·ª£c ph√°t tri·ªÉn ‚Äì c√¢n b·∫±ng kinh t·∫ø, m√¥i tr∆∞·ªùng, x√£ h·ªôi;
            k·∫øt n·ªëi c√°c l√° ‚Äút√°c ƒë·ªông‚Äù ƒë·ªÉ t·ªëi ∆∞u ƒëi·ªÉm s·ªë theo ƒë·ªãa danh.
          </p>

          <div class="spacer"></div>
          <div class="row">
            <button class="btn primary" id="scrollToRulesBtn">Xem lu·∫≠t ch∆°i</button>
            <button class="btn" id="scrollToCardsBtn">Xem c√°c l√° b√†i</button>
          </div>

          <div class="divider"></div>

          <div class="card pad">
            <h3>G·ª£i √Ω thay th·∫ø d·ªØ li·ªáu</h3>
            <p class="muted" style="margin:0; line-height:1.6;">
              B·∫°n ch·ªâ c·∫ßn s·ª≠a m·∫£ng <b>DATA</b> trong ph·∫ßn JS (cu·ªëi file): t√™n game, 2 l√° m·∫´u, n·ªôi dung lu·∫≠t,
              danh s√°ch 10 ƒë·ªãa danh v√† 54 l√° t√°c ƒë·ªông.
            </p>
          </div>
        </div>

        <div class="hero-right">
          <!-- Sample card 1 -->
          <div class="card-sample" id="sampleCard1">
            <div class="inner">
              <div class="badge" id="sampleBadge1">L√° m·∫´u</div>
              <div style="font-weight:800; letter-spacing:-.02em" id="sampleName1">T√ÅC ƒê·ªòNG A</div>
              <div class="small" id="sampleDesc1">
                (demo) TƒÉng GDP ƒë·ªãa ph∆∞∆°ng, nh∆∞ng tƒÉng ph√°t th·∫£i. K√≠ch ho·∫°t khi c√≥ 2 nh√† m√°y v√† 1 tuy·∫øn logistics.
              </div>
              <div class="big-number" id="sampleNum1">+3</div>
            </div>
          </div>

          <!-- Sample card 2 -->
          <div class="card-sample" id="sampleCard2">
            <div class="inner">
              <div class="badge" id="sampleBadge2">L√° m·∫´u</div>
              <div style="font-weight:800; letter-spacing:-.02em" id="sampleName2">T√ÅC ƒê·ªòNG B</div>
              <div class="small" id="sampleDesc2">
                (demo) N√¢ng ch·∫•t l∆∞·ª£ng s·ªëng, gi·∫£m r·ªßi ro thi√™n tai. Hi·ªáu ·ª©ng m·∫°nh ·ªü khu v·ª±c ven bi·ªÉn.
              </div>
              <div class="big-number" id="sampleNum2">+2</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 2 -->
  <section class="section" id="rules">
    <div class="wrap">
      <div class="rules-grid">
        <!-- Left: A4 preview -->
        <div>
          <div class="a4-preview" id="a4Preview" role="button" aria-label="M·ªü lu·∫≠t ch∆°i">
            <div class="a4-title" id="a4PreviewTitle">LU·∫¨T CH∆†I (A4 - thu nh·ªè)</div>
            <div class="a4-text" id="a4PreviewText">
              1) Chu·∫©n b·ªã: M·ªói ng∆∞·ªùi nh·∫≠n 3 l√° t√°c ƒë·ªông, ƒë·∫∑t 10 l√° ƒë·ªãa danh theo th·ª© t·ª±.
              2) L∆∞·ª£t ch∆°i: Ch·ªçn 1 ƒë·ªãa danh -> ƒë√°nh 1 l√° t√°c ƒë·ªông -> t√≠nh ƒëi·ªÉm theo hi·ªáu ·ª©ng.
              3) K·∫øt th√∫c: Sau N v√≤ng, c·ªông ƒëi·ªÉm kinh t·∫ø/x√£ h·ªôi/m√¥i tr∆∞·ªùng, ng∆∞·ªùi cao nh·∫•t th·∫Øng.
              (Demo text - b·∫°n thay b·∫±ng lu·∫≠t th·∫≠t.)
            </div>
            <div class="zoom-hint">Click ƒë·ªÉ ph√≥ng to &amp; ƒë·ªçc</div>
          </div>

          <div class="spacer"></div>
          <div class="row">
            <span class="kbd">M·∫πo: Esc ƒë·ªÉ ƒë√≥ng</span>
            <span class="kbd">Scroll trong c·ª≠a s·ªï ƒë·ªçc A4</span>
          </div>
        </div>

        <!-- Right: Title + description -->
        <div class="card pad">
          <h2 style="margin:0 0 8px; font-size:32px; letter-spacing:-.02em;">Lu·∫≠t ch∆°i</h2>
          <p class="muted" style="margin:0; line-height:1.7;" id="rulesIntro">
            Trang n√†y hi·ªÉn th·ªã file lu·∫≠t A4 d·∫°ng thu nh·ªè b√™n tr√°i. Khi click, m·ªü modal ƒë·ªÉ ƒë·ªçc d·ªÖ d√†ng,
            cu·ªôn l√™n/xu·ªëng nh∆∞ xem t√†i li·ªáu.
          </p>

          <div class="divider"></div>
          <h3>G·ª£i √Ω n√¢ng c·∫•p</h3>
          <ul class="muted" style="margin:0; line-height:1.7;">
            <li>Thay ph·∫ßn ‚ÄúA4 full‚Äù b·∫±ng ·∫£nh/iframe PDF n·∫øu b·∫°n c√≥ file lu·∫≠t.</li>
            <li>T·∫°o n√∫t t·∫£i PDF.</li>
            <li>Th√™m m·ª•c l·ª•c (anchor) trong lu·∫≠t.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 3 -->
  <section class="section" id="cards">
    <div class="wrap">
      <div class="row" style="justify-content:space-between; align-items:flex-end;">
        <div>
          <span class="pill"><span class="dot" style="background:var(--accent2)"></span><span>Slide ƒë·ªãa danh + c√°c l√° t√°c ƒë·ªông</span></span>
          <h2 style="margin:14px 0 8px; font-size:34px; letter-spacing:-.02em;">N·ªôi dung c√°c l√° b√†i</h2>
          <p class="muted" style="margin:0; line-height:1.65;">
            M·ªói slide: t√™n ƒë·ªãa danh (tr√°i), ·∫£nh ƒë·ªãa danh (d∆∞·ªõi), danh s√°ch c√°c l√° t√°c ƒë·ªông (ph·∫£i).
          </p>
        </div>

        <div class="row">
          <button class="btn" id="prevBtn" aria-label="Slide tr∆∞·ªõc">‚Üê Tr∆∞·ªõc</button>
          <button class="btn" id="nextBtn" aria-label="Slide sau">Sau ‚Üí</button>
        </div>
      </div>

      <div class="spacer"></div>

      <div class="slider-controls">
        <div class="dots" id="dots"></div>
        <div class="kbd">Ph√≠m: ‚Üê / ‚Üí</div>
      </div>

      <div class="spacer"></div>

      <div class="slider" id="slider">
        <div class="slides" id="slides"></div>
      </div>
    </div>
  </section>

  <!-- Modal (Rules A4) -->
  <div class="modal" id="rulesModal" aria-hidden="true">
    <div class="panel" role="dialog" aria-modal="true" aria-label="Lu·∫≠t ch∆°i ph√≥ng to">
      <div class="panel-head">
        <div class="left">
          <span class="icon">üìÑ</span>
          <span id="modalTitle">Lu·∫≠t ch∆°i (A4)</span>
        </div>
        <button class="btn" id="closeModalBtn" aria-label="ƒê√≥ng">ƒê√≥ng</button>
      </div>
      <div class="panel-body">
        <div class="a4-full" id="a4Full">
          <h2 id="a4FullHeading">LU·∫¨T CH∆†I</h2>
          <p class="muted" style="color:#2a2f3a" id="a4FullDesc">
            (Demo) Thay n·ªôi dung n√†y b·∫±ng lu·∫≠t th·∫≠t. B·∫°n c√≥ th·ªÉ d√°n nguy√™n vƒÉn, ho·∫∑c thay b·∫±ng ·∫£nh/PDF.
          </p>
          <div class="divider" style="background:rgba(0,0,0,.08)"></div>
          <div id="a4FullContent">
            <p><b>1. M·ª•c ti√™u:</b> T·ªëi ∆∞u ƒëi·ªÉm s·ªë d·ª±a tr√™n t√°c ƒë·ªông l√™n c√°c ƒë·ªãa danh.</p>
            <p><b>2. Th√†nh ph·∫ßn:</b> 10 l√° ƒë·ªãa danh, 54 l√° t√°c ƒë·ªông, b·∫£ng ƒëi·ªÉm, token.</p>
            <p><b>3. Thi·∫øt l·∫≠p:</b></p>
            <ul>
              <li>X√°o 54 l√° t√°c ƒë·ªông, chia m·ªói ng∆∞·ªùi 3 l√°.</li>
              <li>ƒê·∫∑t 10 l√° ƒë·ªãa danh theo th·ª© t·ª± (ho·∫∑c b·ªëc ng·∫´u nhi√™n).</li>
              <li>ƒê·∫∑t b·∫£ng ƒëi·ªÉm ·ªü gi·ªØa b√†n.</li>
            </ul>
            <p><b>4. L∆∞·ª£t ch∆°i:</b></p>
            <ul>
              <li>Ch·ªçn 1 ƒë·ªãa danh (ƒëang ‚Äúm·ªü‚Äù).</li>
              <li>ƒê√°nh 1 l√° t√°c ƒë·ªông ph√π h·ª£p ƒëi·ªÅu ki·ªán.</li>
              <li>√Åp hi·ªáu ·ª©ng: c·ªông/tr·ª´ ƒëi·ªÉm, th√™m token, k√≠ch ho·∫°t combo.</li>
              <li>B·ªëc l·∫°i 1 l√° ƒë·ªÉ ƒë·ªß 3 l√° tr√™n tay (n·∫øu c√≤n).</li>
            </ul>
            <p><b>5. K·∫øt th√∫c:</b> Sau N v√≤ng ho·∫∑c h·∫øt b√†i. Ng∆∞·ªùi c√≥ t·ªïng ƒëi·ªÉm cao nh·∫•t th·∫Øng.</p>
            <p><b>6. Lu·∫≠t n√¢ng cao (tu·ª≥ ch·ªçn):</b> S·ª± ki·ªán, gi·ªõi h·∫°n √¥ nhi·ªÖm, th·∫£m ho·∫°, ch√≠nh s√°ch.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    /**
     * =========================
     * 1) D·ªÆ LI·ªÜU DEMO (S·ª¨A ·ªû ƒê√ÇY)
     * =========================
     */
    const DATA = {
      game: {
        title: "URBAN IMPACTS",
        goal:
          "M·ª•c ƒë√≠ch: x√¢y d·ª±ng chi·∫øn l∆∞·ª£c ph√°t tri·ªÉn b·ªÅn v·ªØng cho c√°c ƒë·ªãa danh; c√¢n b·∫±ng kinh t·∫ø ‚Äì x√£ h·ªôi ‚Äì m√¥i tr∆∞·ªùng th√¥ng qua c√°c l√° t√°c ƒë·ªông."
      },
      samples: [
        {
          badge: "L√° t√°c ƒë·ªông m·∫´u",
          name: "Khu c√¥ng nghi·ªáp m·ªü r·ªông",
          desc: "TƒÉng ƒëi·ªÉm kinh t·∫ø +3. N·∫øu ƒë·ªãa danh ƒë√£ c√≥ Logistics, +1 th√™m. N·∫øu v∆∞·ª£t ng∆∞·ª°ng √¥ nhi·ªÖm, -2 m√¥i tr∆∞·ªùng.",
          num: "+3"
        },
        {
          badge: "L√° t√°c ƒë·ªông m·∫´u",
          name: "ƒê·∫ßu t∆∞ y t·∫ø ‚Äì gi√°o d·ª•c",
          desc: "TƒÉng ƒëi·ªÉm x√£ h·ªôi +2. N·∫øu l√† ƒë√¥ th·ªã l·ªõn, +1. N·∫øu ng√¢n s√°ch th·∫•p, y√™u c·∫ßu tr·∫£ 1 token kinh t·∫ø.",
          num: "+2"
        }
      ],
      rules: {
        intro:
          "B√™n tr√°i l√† b·∫£n lu·∫≠t A4 thu nh·ªè. Click ƒë·ªÉ m·ªü ph√≥ng to v√† cu·ªôn ƒë·ªçc. B·∫°n c√≥ th·ªÉ thay n·ªôi dung b·∫±ng PDF/·∫£nh sau.",
        previewTitle: "LU·∫¨T CH∆†I (A4 - thu nh·ªè)",
        previewText:
          "1) Chu·∫©n b·ªã: Chia b√†i, ƒë·∫∑t ƒë·ªãa danh, chu·∫©n b·ªã b·∫£ng ƒëi·ªÉm.\n" +
          "2) L∆∞·ª£t ch∆°i: Ch·ªçn ƒë·ªãa danh -> ƒë√°nh l√° t√°c ƒë·ªông -> √°p hi·ªáu ·ª©ng.\n" +
          "3) K·∫øt th√∫c: Sau N v√≤ng ho·∫∑c h·∫øt b√†i.\n" +
          "(Demo text - thay b·∫±ng lu·∫≠t th·∫≠t.)",
        modalTitle: "Lu·∫≠t ch∆°i (A4)",
        fullHeading: "LU·∫¨T CH∆†I",
        fullDesc:
          "G·ª£i √Ω: b·∫°n c√≥ th·ªÉ d√°n nguy√™n vƒÉn lu·∫≠t t·∫°i ƒë√¢y; ho·∫∑c thay ph·∫ßn n√†y b·∫±ng iframe PDF / ·∫£nh A4."
      },
      // 10 ƒë·ªãa danh (demo). M·ªói ƒë·ªãa danh c√≥ danh s√°ch c√°c l√° t√°c ƒë·ªông li√™n quan.
      // 54 l√° t√°c ƒë·ªông: demo ch·ªâ t·∫°o √≠t, b·∫°n c√≥ th·ªÉ m·ªü r·ªông/nh√∫ng th·∫≠t v√†o impacts.
      places: [
        {
          name: "TP. H·ªì Ch√≠ Minh",
          imageText: "·∫¢nh/thumbnail TP.HCM (thay b·∫±ng <img src=...>)",
          tags: ["ƒê√¥ th·ªã", "D·ªãch v·ª•", "C·∫£ng"],
          impacts: [
            { code: "T01", title: "M·ªü r·ªông metro", desc: "Gi·∫£m √πn t·∫Øc, +2 x√£ h·ªôi; n·∫øu c√≥ ng√¢n s√°ch: +1 kinh t·∫ø." },
            { code: "T02", title: "Logistics c·∫£ng bi·ªÉn", desc: "+3 kinh t·∫ø; n·∫øu √¥ nhi·ªÖm cao: -1 m√¥i tr∆∞·ªùng." },
            { code: "T03", title: "Ch·ªëng ng·∫≠p ƒë√¥ th·ªã", desc: "+2 m√¥i tr∆∞·ªùng; n·∫øu m∆∞a l·ªõn: +1 th√™m." }
          ]
        },
        {
          name: "H√† N·ªôi",
          imageText: "·∫¢nh/thumbnail H√† N·ªôi",
          tags: ["Th·ªß ƒë√¥", "D·ªãch v·ª•", "Di s·∫£n"],
          impacts: [
            { code: "T04", title: "B·∫£o t·ªìn ph·ªë c·ªï", desc: "+2 vƒÉn ho√°; n·∫øu du l·ªãch cao: +1 kinh t·∫ø." },
            { code: "T05", title: "V√†nh ƒëai giao th√¥ng", desc: "+2 kinh t·∫ø; n·∫øu gi·∫£i ph√≥ng m·∫∑t b·∫±ng: -1 x√£ h·ªôi." }
          ]
        },
        {
          name: "ƒê√† N·∫µng",
          imageText: "·∫¢nh/thumbnail ƒê√† N·∫µng",
          tags: ["Bi·ªÉn", "Du l·ªãch", "Logistics"],
          impacts: [
            { code: "T06", title: "Du l·ªãch b·ªÅn v·ªØng", desc: "+2 kinh t·∫ø; n·∫øu m√¥i tr∆∞·ªùng t·ªët: +1 th√™m." },
            { code: "T07", title: "C·∫£ng ‚Äì kho v·∫≠n", desc: "+2 kinh t·∫ø; n·∫øu b√£o: -1." }
          ]
        },
        {
          name: "H·∫£i Ph√≤ng",
          imageText: "·∫¢nh/thumbnail H·∫£i Ph√≤ng",
          tags: ["C·∫£ng", "C√¥ng nghi·ªáp"],
          impacts: [
            { code: "T08", title: "Khu c√¥ng nghi·ªáp ven bi·ªÉn", desc: "+3 kinh t·∫ø; n·∫øu thi·∫øu x·ª≠ l√Ω th·∫£i: -2 m√¥i tr∆∞·ªùng." }
          ]
        },
        {
          name: "B√¨nh D∆∞∆°ng",
          imageText: "·∫¢nh/thumbnail B√¨nh D∆∞∆°ng",
          tags: ["C√¥ng nghi·ªáp", "FDI"],
          impacts: [
            { code: "T09", title: "Thu h√∫t FDI", desc: "+3 kinh t·∫ø; n·∫øu thi·∫øu lao ƒë·ªông: -1 x√£ h·ªôi." }
          ]
        },
        {
          name: "ƒê·ªìng Nai",
          imageText: "·∫¢nh/thumbnail ƒê·ªìng Nai",
          tags: ["C√¥ng nghi·ªáp", "H·∫° t·∫ßng"],
          impacts: [
            { code: "T10", title: "H·∫° t·∫ßng li√™n v√πng", desc: "+2 kinh t·∫ø; n·∫øu chi ph√≠ cao: -1 ng√¢n s√°ch." }
          ]
        },
        {
          name: "C·∫ßn Th∆°",
          imageText: "·∫¢nh/thumbnail C·∫ßn Th∆°",
          tags: ["ƒêBSCL", "N√¥ng nghi·ªáp"],
          impacts: [
            { code: "T11", title: "N√¢ng c·∫•p ƒë√™ bao", desc: "+2 m√¥i tr∆∞·ªùng; n·∫øu h·∫°n m·∫∑n: +1 th√™m." }
          ]
        },
        {
          name: "L√†o Cai",
          imageText: "·∫¢nh/thumbnail L√†o Cai",
          tags: ["Mi·ªÅn n√∫i", "Du l·ªãch"],
          impacts: [
            { code: "T12", title: "Ph√°t tri·ªÉn du l·ªãch n√∫i", desc: "+2 kinh t·∫ø; n·∫øu qu√° t·∫£i: -1 m√¥i tr∆∞·ªùng." }
          ]
        },
        {
          name: "Qu·∫£ng Ninh",
          imageText: "·∫¢nh/thumbnail Qu·∫£ng Ninh",
          tags: ["Than", "Du l·ªãch"],
          impacts: [
            { code: "T13", title: "Chuy·ªÉn d·ªãch nƒÉng l∆∞·ª£ng", desc: "+2 m√¥i tr∆∞·ªùng; -1 kinh t·∫ø ng·∫Øn h·∫°n." }
          ]
        },
        {
          name: "Hu·∫ø",
          imageText: "·∫¢nh/thumbnail Hu·∫ø",
          tags: ["Di s·∫£n", "VƒÉn ho√°"],
          impacts: [
            { code: "T14", title: "B·∫£o t·ªìn di s·∫£n", desc: "+3 vƒÉn ho√°; n·∫øu du l·ªãch cao: +1 kinh t·∫ø." }
          ]
        }
      ]
    };

    /**
     * =========================
     * 2) G√ÅN D·ªÆ LI·ªÜU V√ÄO UI
     * =========================
     */
    const $ = (q) => document.querySelector(q);

    function bindHero(){
      $("#brandName").textContent = DATA.game.title;
      $("#gameTitle").textContent = DATA.game.title;
      $("#gameGoal").textContent = DATA.game.goal;

      const s1 = DATA.samples[0];
      const s2 = DATA.samples[1];

      $("#sampleBadge1").textContent = s1.badge;
      $("#sampleName1").textContent = s1.name;
      $("#sampleDesc1").textContent = s1.desc;
      $("#sampleNum1").textContent = s1.num;

      $("#sampleBadge2").textContent = s2.badge;
      $("#sampleName2").textContent = s2.name;
      $("#sampleDesc2").textContent = s2.desc;
      $("#sampleNum2").textContent = s2.num;
    }

    function bindRules(){
      $("#rulesIntro").textContent = DATA.rules.intro;
      $("#a4PreviewTitle").textContent = DATA.rules.previewTitle;
      $("#a4PreviewText").textContent = DATA.rules.previewText;
      $("#modalTitle").textContent = DATA.rules.modalTitle;
      $("#a4FullHeading").textContent = DATA.rules.fullHeading;
      $("#a4FullDesc").textContent = DATA.rules.fullDesc;
    }

    /**
     * =========================
     * 3) MODAL: LU·∫¨T CH∆†I
     * =========================
     */
    const modal = $("#rulesModal");
    const openModal = () => {
      modal.classList.add("show");
      modal.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    };
    const closeModal = () => {
      modal.classList.remove("show");
      modal.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
    };

    $("#a4Preview").addEventListener("click", openModal);
    $("#closeModalBtn").addEventListener("click", closeModal);
    modal.addEventListener("click", (e) => {
      // click n·ªÅn t·ªëi ƒë·ªÉ ƒë√≥ng
      if (e.target === modal) closeModal();
    });
    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal.classList.contains("show")) closeModal();
    });

    /**
     * =========================
     * 4) SLIDER: ƒê·ªäA DANH
     * =========================
     */
    const slidesEl = $("#slides");
    const dotsEl = $("#dots");
    let current = 0;

    function slideTemplate(place){
      const tags = (place.tags || []).map(t => `<span class="chip">${escapeHtml(t)}</span>`).join("");
      const impacts = (place.impacts || []).map(it => `
        <div class="impact-item">
          <div class="impact-tag">${escapeHtml(it.code || "T")}</div>
          <div class="impact-text">
            <p class="impact-title">${escapeHtml(it.title || "")}</p>
            <p class="impact-desc">${escapeHtml(it.desc || "")}</p>
          </div>
        </div>
      `).join("");

      return `
        <div class="slide">
          <div class="slide-grid">
            <div class="place-card">
              <div class="place-name">${escapeHtml(place.name)}</div>
              <div class="place-img">
                ${escapeHtml(place.imageText || "·∫¢nh ƒë·ªãa danh")}
              </div>
              <div class="spacer"></div>
              <div class="chips">${tags}</div>
            </div>

            <div class="impact-list">
              <div class="impact-head">
                <h4>Danh s√°ch l√° t√°c ƒë·ªông</h4>
                <span class="pill" style="padding:6px 10px;">
                  <span class="dot" style="width:7px;height:7px;"></span>
                  <span>${(place.impacts || []).length} l√°</span>
                </span>
              </div>
              <div class="impact-items">
                ${impacts || `<div class="muted">Ch∆∞a c√≥ l√° t√°c ƒë·ªông.</div>`}
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function buildSlider(){
      slidesEl.innerHTML = DATA.places.map(slideTemplate).join("");

      dotsEl.innerHTML = DATA.places.map((_, i) => `
        <button class="dotbtn ${i===0 ? "active":""}" aria-label="T·ªõi slide ${i+1}" data-i="${i}"></button>
      `).join("");

      dotsEl.querySelectorAll(".dotbtn").forEach(btn => {
        btn.addEventListener("click", () => goTo(parseInt(btn.dataset.i, 10)));
      });

      updateSlider();
    }

    function updateSlider(){
      const x = -current * 100;
      slidesEl.style.transform = `translateX(${x}%)`;

      dotsEl.querySelectorAll(".dotbtn").forEach((b, i) => {
        b.classList.toggle("active", i === current);
      });
    }

    function goTo(index){
      const n = DATA.places.length;
      current = ((index % n) + n) % n; // wrap
      updateSlider();
    }

    function next(){ goTo(current + 1); }
    function prev(){ goTo(current - 1); }

    $("#nextBtn").addEventListener("click", next);
    $("#prevBtn").addEventListener("click", prev);

    window.addEventListener("keydown", (e) => {
      // tr√°nh b·∫Øt ph√≠m khi ƒëang m·ªü modal
      if (modal.classList.contains("show")) return;
      if (e.key === "ArrowRight") next();
      if (e.key === "ArrowLeft") prev();
    });

    // Swipe (mobile)
    (function enableSwipe(){
      const slider = $("#slider");
      let startX = 0;
      let dragging = false;

      slider.addEventListener("touchstart", (e) => {
        dragging = true;
        startX = e.touches[0].clientX;
      }, {passive:true});

      slider.addEventListener("touchmove", (e) => {
        if (!dragging) return;
        // kh√¥ng c·∫ßn k√©o realtime, ch·ªâ nh·∫≠n h∆∞·ªõng
      }, {passive:true});

      slider.addEventListener("touchend", (e) => {
        if (!dragging) return;
        dragging = false;
        const endX = (e.changedTouches && e.changedTouches[0]) ? e.changedTouches[0].clientX : startX;
        const dx = endX - startX;
        if (Math.abs(dx) > 40){
          if (dx < 0) next();
          else prev();
        }
      });
    })();

    /**
     * =========================
     * 5) SCROLL BUTTONS
     * =========================
     */
    $("#scrollToRulesBtn").addEventListener("click", () => {
      document.querySelector("#rules").scrollIntoView({behavior:"smooth", block:"start"});
    });
    $("#scrollToCardsBtn").addEventListener("click", () => {
      document.querySelector("#cards").scrollIntoView({behavior:"smooth", block:"start"});
    });

    /**
     * =========================
     * 6) UTIL
     * =========================
     */
    function escapeHtml(str){
      return String(str)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    /**
     * =========================
     * INIT
     * =========================
     */
    bindHero();
    bindRules();
    buildSlider();
  </script>
</body>
</html>
